/*! https://github.com/naradesign/korean.josa.js | Copyright (c) 2016 ChanMyeong Jeong | Under the MIT license. */!function(e){"use strict";e.fn.josa=function(t){var a={unknown:["이(가)","을(를)","은(는)","와(과)","로(으로)"],afterFinal:["이","을","은","과","으로"],afterMiddle:["가","를","는","와","로"]};e(this).each(function(){var s,n=e(this),c=n.is("input"),i=n.is("select");s=c?n.val():i?n.find(":selected").val():n.text();var r=function(){var e,c=/[가-힣]/,i=/[a-z]/i,r=/[clmnp]/i,l=/(mb)|(be)|(le)|(ne)|(te)|(ng)|(ck)|(ok)/i,u=/\d/g,f=s.replace(/[^(가-힣a-z0-9)]/gi,""),o=f.substr(-1),d=f.substr(-2),b=f.replace(u,""),k=b.substr(-1),v=c.test(o),p=v&&(o.charCodeAt(0)-44032)%28>0,h=u.test(o),g=h&&c.test(k)&&/[013678]/.test(o)||i.test(k)&&/[1789]/.test(o),j=i.test(o),x=j&&(r.test(o)||l.test(d)),w=p||g||x,m=function(a){switch(t){case"이/가":e=a[0];break;case"을/를":e=a[1];break;case"은/는":e=a[2];break;case"와/과":e=a[3];break;case"로/으로":e=a[4];break;default:e=""}};v||h||j?w?m(a.afterFinal):w||m(a.afterMiddle):m(a.unknown),n.next().is(".josa")?n.next().text(e):n.after("<span class='josa'>"+e+"</span>")};r(),(c||i)&&n.on("keyup change",function(){c?s=n.val():i&&(s=n.find(":selected").val()),r()})})}}(jQuery);